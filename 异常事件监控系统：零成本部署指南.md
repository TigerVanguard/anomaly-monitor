# 异常事件监控系统：零成本部署指南

本指南旨在帮助您利用免费的云服务资源，将异常事件监控系统部署上线。我们将采用**前后端分离**的混合部署策略。

## 1. 部署架构概览

| 组件 | 推荐平台 | 方案类型 | 成本 | 优势 |
| :--- | :--- | :--- | :--- | :--- |
| **前端 (Dashboard)** | **Vercel** 或 **Netlify** | 静态托管 | **$0** | 全球 CDN，自动化构建，访问速度快。 |
| **后端 (监控脚本)** | **GitHub Actions** | 定时任务 (Cron) | **$0** | 无需维护服务器，配置简单，适合间歇性扫描。 |
| **后端 (替代方案)** | **Oracle Cloud** | Always Free VPS | **$0** | 真正的 24/7 实时运行，适合需要 WebSocket 长连接的场景。 |
| **数据库 (可选)** | **Supabase** | Free Tier | **$0** | 提供 PostgreSQL 数据库，用于持久化存储历史警报。 |

---

## 2. 前端部署 (Vercel)

前端是一个纯静态的 React 应用（构建后），非常适合部署在 Vercel 上。

### 步骤：
1.  **代码托管**：将您的前端代码推送到 GitHub 仓库。
2.  **连接 Vercel**：
    *   注册/登录 [Vercel](https://vercel.com/)。
    *   点击 "Add New..." -> "Project"。
    *   选择您的 GitHub 仓库。
3.  **配置构建**：
    *   Framework Preset: 选择 **Vite**。
    *   Build Command: `npm run build` (或 `pnpm build`)。
    *   Output Directory: `dist`。
4.  **部署**：点击 "Deploy"。Vercel 会自动构建并分配一个免费域名（如 `anomaly-monitor.vercel.app`）。

---

## 3. 后端部署方案 A：GitHub Actions (推荐)

如果您不需要毫秒级的实时性，**每 5-10 分钟扫描一次**是性价比最高的选择。

### 原理：
利用 GitHub Actions 的 `schedule` 触发器，定期运行 Python 脚本。脚本运行完毕后，将结果推送到数据库或直接发送警报。

### 配置文件示例 (`.github/workflows/monitor.yml`)：
```yaml
name: Anomaly Monitor Cron

on:
  schedule:
    - cron: '*/10 * * * *'  # 每 10 分钟运行一次
  workflow_dispatch:      # 允许手动触发

jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.9'
      - name: Install dependencies
        run: pip install -r requirements.txt
      - name: Run Scanner
        env:
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
        run: python monitor.py
```

### 优缺点：
*   ✅ **优点**：完全免费，无需维护服务器，极其稳定。
*   ❌ **缺点**：有几分钟的延迟，无法维持 WebSocket 长连接。

---

## 4. 后端部署方案 B：Oracle Cloud (进阶)

如果您需要 **WebSocket 实时监控**（毫秒级响应），可以使用 Oracle Cloud 的永久免费 VPS。

### 资源配置 (Always Free)：
*   **机型**：VM.Standard.A1.Flex (ARM 架构)。
*   **配置**：高达 4 OCPU，24GB 内存（非常大方）。
*   **流量**：每月 10TB 出站流量。

### 步骤：
1.  **注册**：访问 [Oracle Cloud Free Tier](https://www.oracle.com/cloud/free/) 注册账号（需信用卡验证身份，不扣费）。
2.  **创建实例**：在控制台创建一个 "Always Free" 的 VM 实例，选择 Ubuntu 系统。
3.  **部署**：
    *   SSH 登录服务器。
    *   `git clone` 您的代码。
    *   使用 `systemd` 或 `Docker` 让 Python 脚本在后台常驻运行。

### 优缺点：
*   ✅ **优点**：真正的服务器，支持实时 WebSocket，性能强大。
*   ❌ **缺点**：注册门槛较高（部分地区信用卡容易被拒），需要基本的 Linux 运维知识。

---

## 5. 总结建议

*   **入门首选**：**Vercel (前端) + GitHub Actions (后端)**。
    *   理由：配置最简单，完全零成本，维护负担最小。对于“异动扫描”这种场景，5-10 分钟的延迟通常是可以接受的。
*   **进阶升级**：如果发现 GitHub Actions 的延迟无法满足需求，再考虑申请 **Oracle Cloud** 或 **Google Cloud (e2-micro)** 的免费 VPS 进行实时部署。
